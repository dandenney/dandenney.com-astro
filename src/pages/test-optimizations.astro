---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Breadcrumb from "../components/Breadcrumb.astro";
import OptimizedImage from "../components/OptimizedImage.astro";
import LazyLoader from "../components/LazyLoader.astro";
import LoadingSpinner from "../components/LoadingSpinner.astro";

const breadcrumbItems = [
  { label: 'Test', href: '/test' },
  { label: 'Optimizations' }
];
---

<html lang="en">
  <head>
    <BaseHead 
      title="Test Page - Optimizations Demo" 
      description="Testing all the new optimization components"
      type="website"
    />
  </head>
  <body class="bg-white dark:bg-slate-900">
    <Header />
    <Breadcrumb items={breadcrumbItems} />
    
    <main class="bg-white relative shadow z-10 dark:bg-slate-900 dark:text-slate-200">
      <div class="mx-auto max-w-7xl px-6 py-12 lg:px-8">
        <h1 class="text-4xl font-bold mb-8">Optimization Components Test</h1>
        
        <section class="mb-12">
          <h2 class="text-2xl font-bold mb-4">Optimized Images</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
              <h3 class="text-lg font-semibold mb-2">Local Image (SVG)</h3>
              <OptimizedImage
                src="/dan.svg"
                alt="Dan Denney illustration"
                width={200}
                height={250}
                loading="eager"
              />
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-2">WebP Image</h3>
              <OptimizedImage
                src="/blip-too.webp"
                alt="Blip illustration"
                width={200}
                height={200}
                loading="lazy"
              />
            </div>
          </div>
        </section>

        <section class="mb-12">
          <h2 class="text-2xl font-bold mb-4">Loading Spinner</h2>
          <div class="flex space-x-8">
            <div>
              <h3 class="text-lg font-semibold mb-2">Small</h3>
              <LoadingSpinner size="sm" />
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-2">Medium</h3>
              <LoadingSpinner size="md" />
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-2">Large</h3>
              <LoadingSpinner size="lg" />
            </div>
          </div>
        </section>

        <section class="mb-12">
          <h2 class="text-2xl font-bold mb-4">Lazy Loader</h2>
          <LazyLoader fallback="Loading test content...">
            <div class="p-8 bg-gray-100 dark:bg-gray-800 rounded-lg">
              <h3 class="text-xl font-bold mb-4">Lazy Loaded Content</h3>
              <p class="mb-4">This content was loaded when the component came into view!</p>
              <OptimizedImage
                src="/blip-too.webp"
                alt="Lazy loaded image"
                width={300}
                height={300}
                loading="lazy"
              />
            </div>
          </LazyLoader>
        </section>

        <section class="mb-12">
          <h2 class="text-2xl font-bold mb-4">Structured Data</h2>
          <p class="text-gray-600 dark:text-gray-400">
            Structured data (JSON-LD) has been added to the page head. 
            Check the page source or use Google's Rich Results Test to verify.
          </p>
        </section>
      </div>
    </main>
    
    <Footer />
  </body>
</html>