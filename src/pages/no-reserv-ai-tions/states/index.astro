---
import BaseHead from '../../../components/BaseHead.astro';
import Header from '../../../components/Header.astro';
import Footer from '../../../components/Footer.astro';
import toTitleCase from '../../../helpers/toTitleCase.js'
import { ViewTransitions } from 'astro:transitions';

export const prerender = true;

const allReviews = await Astro.glob('../../../content/reviews/*.md');
const states = [...new Set(allReviews.map((review) => review.frontmatter.state).flat())].filter(state => state !== '').sort();

---
<!doctype html>
<html lang="en">
	<head>
		<BaseHead title="No ReservAItions Cities | Dan Denney" description="Reviews of food, music, and events with the help of AI" />
		<ViewTransitions />
	</head>
	<body class="bg-slate-50 dark:bg-slate-900">
		<Header />
		<main class="bg-slate-50 relative shadow z-10 xl:flex dark:bg-slate-900 dark:text-slate-200" style="min-height: 90dvh;">  
      <section class="max-w-screen-xl mx-auto pb-24 pt-8 px-4">
				<h2 class="border-b text-center text-4xl font-bold pb-4 tracking-tight text-gray-900 dark:text-slate-100 md:flex-shrink-0 md:text-left xl:border-0 xl:text-6xl">
          States
        </h2>
        <p class="mt-2 text-gray-600 dark:text-slate-100">
          States with reviews of food, music, and events with the help of AI
        </p>
        <nav class="has-links flex flex-wrap items-start mt-8 gap-x-8 gap-y-4 xl:gap-x-12 xl:gap-y-8">
          {states.map((state) => (
            <a class="md:text-2xl xl:text-6xl" href={`/no-reserv-ai-tions/states/${state}`}>
              {toTitleCase(state)}
            </a>
          ))}
        </nav>
      </section>
    </main>
    <Footer />
  </body>
</html>