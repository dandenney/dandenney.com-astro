---
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { getCollection } from 'astro:content';

const reviews = (await getCollection('reviews')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
).slice(0, 4);
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title="No ReservAItions" description="Reviews of food, music, and events with the help of AI" />
	</head>
	<body class="bg-slate-50 dark:bg-slate-900">
		<Header />
		<main class="bg-slate-50 relative shadow z-10 dark:bg-slate-900 dark:text-slate-200">
			<figure class="overflow-hidden" style="max-height: 70vh;">
        <img alt="Midjourney generated image of Anthony Bourdain in Nashville" class="object-cover" src="/no-reserv-ai-tions/ai-nthony-bourd-ai-n.webp" />	
      </figure>
			<section class="pb-24 pt-8">
				<header class="max-w-screen-2xl	mx-auto px-4 md:flex">
					<h2 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl dark:text-slate-100 md:flex-shrink-0 mr-8">No Reserv<span class="uppercase">ai</span>tions</h2>
					<p class="mt-2 text-lg leading-8 max-w-3xl text-gray-600 dark:text-slate-100 lg:mt-0"><a href="https://en.wikipedia.org/wiki/Anthony_Bourdain">Anthony Bourdain</a> had a glorious way of describing the human experience, especially when it revolved around food and drink. This project uses AI to write reviews of places, in his general style. No bot can compare to the real person, but <strong class="font-bold">AI</strong>nthony Bourd<strong class="font-bold">AI</strong>n sure can bring life to a description of a place or an experience.</p>
				</header>
        <div class="lg:mt-20">
          <h2 class="border-b text-4xl font-bold px-4 pb-4 tracking-tight text-gray-900 dark:text-slate-100 md:flex-shrink-0 mr-8">Recent Reviews</h2>
					<ul class="flex flex-wrap gap-y-8 mt-8">
						{reviews.map((review) => (
							<li class="w-1/2">
								<a class="block duration-300 group relative isolate mt-16 px-4 transition-all sm:py-4 sm:mt-0  hover:bg-red-700" href={`/no-reserv-ai-tions/${review.slug}/`}>
									<div class="flex flex-col gap-4 items-start max-w-2xl mx-auto sm:flex-row sm:gap-8 lg:max-w-screen-2xl">
										<figure class="bg-white duration-300 flex-shrink-0 pb-5 pt-2 px-2 shadow-sm shadow-slate-10/20 transition-transform w-52 group-hover:-rotate-3" transition:name={`${review.data.title}-img`}>
											<img src={`/no-reserv-ai-tions/${review.data.heroImage}-thumb.webp`} alt={review.data.heroImageAlt} />
										</figure>
										<div>
											<div class="flex items-center gap-x-4 text-slate-500 text-sm group-hover:text-white xl:text-base">
												{review.data.city}, {review.data.country === 'United States' ? review.data.state : review.data.country}
											</div>
											<div class="group relative">
												<h3 class="duration-300 font-bold mt-3 text-4xl  text-red-700 transition-color uppercase md:text-5xl group-hover:text-white">
													<span class="absolute inset-0"></span>
													{review.data.title}
												</h3>
												<p class="duration-500 mt-2 xl:opacity-0 group-hover:opacity-100 text-white  transition-opacity">{review.data.description}</p>
											</div>
										</div>
									</div>
								</a>
							</li>
						))}
					</ul>
				</div>
      </section>
		</main>
		<Footer />
	</body>
</html>
